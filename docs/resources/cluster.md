---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "secureworkload_cluster Resource - terraform-provider-secureworkload"
subcategory: ""
description: |-
  Resource for creating a new Cluster on Secure Workload
  Example
  An example is shown below:
  hcl
  resource "secureworkload_cluster" "cluster" {
       workspace_id = data.secureworkload_workspace.workspace.id
      name = "New-Cluster"
      description = "New Cluster via TF"
      query = <<EOF
                  {                "type":"eq",
                   "field": "ip",
                   "value": "10.0.0.1"
                   }
              EOF
      approved = false 
  }
  resource "secureworkload_cluster" "cluster2" {
      depends_on = [secureworkload_cluster.cluster] 
       workspace_id = data.secureworkload_workspace.workspace.id
      name = "New-Cluster2"
      description = "Second Cluster via TF"
      query = <<EOF
                  {                "type":"eq",
                   "field": "ip",
                   "value": "10.0.0.2"
                   }
              EOF
      approved = false 
  }
  
  Note: If creating multiple clusters during a single terraform apply, remember to use depends_on to chain the filters so that terraform creates them in a specific order to avoid 429:toomanyrequest error.
---

# secureworkload_cluster (Resource)

Resource for creating a new Cluster on Secure Workload

## Example
An example is shown below: 
```hcl
resource "secureworkload_cluster" "cluster" {
	 workspace_id = data.secureworkload_workspace.workspace.id
    name = "New-Cluster"
    description = "New Cluster via TF"
    query = <<EOF
                {        		 "type":"eq",
        		 "field": "ip",
        		 "value": "10.0.0.1"
        		 }
        	EOF
    approved = false 
}
resource "secureworkload_cluster" "cluster2" {
    depends_on = [secureworkload_cluster.cluster] 
	 workspace_id = data.secureworkload_workspace.workspace.id
    name = "New-Cluster2"
    description = "Second Cluster via TF"
    query = <<EOF
                {        		 "type":"eq",
        		 "field": "ip",
        		 "value": "10.0.0.2"
        		 }
        	EOF
    approved = false 
}
```
**Note:** If creating multiple clusters during a single `terraform apply`, remember to use `depends_on` to chain the filters so that terraform creates them in a specific order to avoid *429:too_many_request* error.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) User-specified name for the inventory cluster.
- `workspace_id` (String) ID of the workspace associated with the cluster.

### Optional

- `approved` (Boolean) (optional) An approved cluster will not be updated during an automatic policy discovery run. Default false.
- `description` (String) (optional) The description of the cluster.
- `query` (String) JSON object representation of an inventory cluster query.
- `version` (String) Indicates the version of the workspace the cluster will be added to.

### Read-Only

- `id` (String) The ID of this resource.


