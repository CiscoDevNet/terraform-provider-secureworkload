---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "secureworkload_workspace Resource - terraform-provider-secureworkload"
subcategory: ""
description: |-
  Resource for creating a workspace in Secure Workload
  Example
  An example is shown below:
  hcl
  resource "secureworkload_workspace" "workspace1" {
       app_scope_id = data.secureworkload_scope.scope.id
      name = "Product Service"
      description = "Demo description for workspace"
      alternate_query_mode = true
      strict_validation = true
      primary = true 
      cluster {
           id = <ID_OF_Cluster>
           name = <NAME_OF_Cluster>
           description = <Cluster_Description>
          node {
              ip_address = "1.2.3.4"
               name = "Product Service"
          }
       }
      filter {
           id = <ID_OF_Cluster>
           name = <NAME_OF_Cluster>
           query = <<EOF
                  {                "type":"eq",
                   "field": "ip",
                   "value": "10.0.0.1"
                   }
                   EOF
       }
      absolute_policy {
           consumer_filter_id = <CONSUMER_FILTER_ID>
           provider_filter_id = <PROVIDER_FILTER_ID>
           action = "ALLOW"
          layer_4_network_policy {
              port_range = [80,80]
               protocol = 6
          }
       }
      default_policy {
           consumer_filter_id = <CONSUMER_FILTER_ID>
           provider_filter_id = <PROVIDER_FILTER_ID>
           action = "DENY"
          layer_4_network_policy {
              port_range = [80,80]
               protocol = 6
          }
       }
      catch all action  = false 
  }
  
  Note: If creating multiple resources for workspaces during a single terraform apply, you may have to use depends_on to chain the resources so that terraform creates it in the same order that you intended.
---

# secureworkload_workspace (Resource)

Resource for creating a workspace in Secure Workload

## Example
An example is shown below: 
```hcl
resource "secureworkload_workspace" "workspace1" {
	 app_scope_id = data.secureworkload_scope.scope.id
    name = "Product Service"
    description = "Demo description for workspace"
    alternate_query_mode = true
    strict_validation = true
    primary = true 
    cluster {
	 	 id = <ID_OF_Cluster>
    	 name = <NAME_OF_Cluster>
    	 description = <Cluster_Description>
        node {
            ip_address = "1.2.3.4"
        	 name = "Product Service"
        }
	 }
    filter {
	 	 id = <ID_OF_Cluster>
    	 name = <NAME_OF_Cluster>
    	 query = <<EOF
                {        		 "type":"eq",
        		 "field": "ip",
        		 "value": "10.0.0.1"
        		 }
        		 EOF
	 }
    absolute_policy {
	 	 consumer_filter_id = <CONSUMER_FILTER_ID>
    	 provider_filter_id = <PROVIDER_FILTER_ID>
    	 action = "ALLOW"
        layer_4_network_policy {
            port_range = [80,80]
        	 protocol = 6
        }
	 }
    default_policy {
	 	 consumer_filter_id = <CONSUMER_FILTER_ID>
    	 provider_filter_id = <PROVIDER_FILTER_ID>
    	 action = "DENY"
        layer_4_network_policy {
            port_range = [80,80]
        	 protocol = 6
        }
	 }
    catch all action  = false 
}
```
**Note:** If creating multiple resources for workspaces during a single `terraform apply`, you may have to use `depends_on` to chain the resources so that terraform creates it in the same order that you intended.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_scope_id` (String) ID of the scope assigned to the application.

### Optional

- `absolute_policy` (Block List) Ordered application policy to be created with the absolute rank. (see [below for nested schema](#nestedblock--absolute_policy))
- `alternate_query_mode` (Boolean) (Optional) Indicates if “dynamic mode” is used for the application. In dynamic mode, an ADM run creates one or more candidate queries for each cluster. Default value is true.
- `catch_all_action` (String) “ALLOW” or “DENY”
- `cluster` (Block List) Cluster wraps a groups of nodes to be used to define policies. (see [below for nested schema](#nestedblock--cluster))
- `default_policy` (Block List) Ordered application policy to be created with the default rank. (see [below for nested schema](#nestedblock--default_policy))
- `description` (String) (Optional) User-specified description of the application.
- `filter` (Block List) Filter wrap a collection of inventory filters on data center assets used to define an                application policy. (see [below for nested schema](#nestedblock--filter))
- `name` (String) (Optional) User-specified name for the application.
- `primary` (Boolean) (Optional) Set to true to indicate this application is primary for the given scope. Default value is true.
- `strict_validation` (Boolean) (Optional) Return an error if there are unknown keys/attributes in the uploaded data. Useful for catching misspelled keys. Default value is false.

### Read-Only

- `author` (String) First and last name of the user who created the application.
- `created_at` (Number) Unix timestamp indicating when the application was created.
- `enforced_version` (Number) The enforced p* version of the application.
- `enforcement_enabled` (Boolean) Indicates if enforcement is enabled on the application.
- `id` (String) The ID of this resource.
- `latest_adm_version` (Number) The latest adm (v*) version of the application.

<a id="nestedblock--absolute_policy"></a>
### Nested Schema for `absolute_policy`

Optional:

- `action` (String) “ALLOW” or “DENY”
- `consumer_filter_id` (String) ID of a cluster, user inventory filter, or application scope.
- `consumer_filter_name` (String) Named filter. If more than one filter with the same name exists you must specify consumer_filter_id.
- `layer_4_network_policy` (Block List) Parameters for enforcing a layer 4 networking policy based off a flows                            protocol and ports. (see [below for nested schema](#nestedblock--absolute_policy--layer_4_network_policy))
- `provider_filter_id` (String) ID of a cluster, user inventory filter, or application scope.
- `provider_filter_name` (String) Named filter. If more than one filter with the same name exists you must specify consumer_filter_id.

<a id="nestedblock--absolute_policy--layer_4_network_policy"></a>
### Nested Schema for `absolute_policy.layer_4_network_policy`

Required:

- `port_range` (List of Number) Inclusive range of ports; for example, [80, 80] or [5000, 6000].
- `protocol` (Number) Protocol integer value (NULL means all protocols).

Optional:

- `approved` (Boolean) (Optional) Indicates whether the policy is approved. Default is false.



<a id="nestedblock--cluster"></a>
### Nested Schema for `cluster`

Optional:

- `consistent_uuid` (String) Must be unique to a given application. After an ADM run, the similar/same clusters in the next version will maintain the consistent_uuid.
- `description` (String) Description of the cluster.
- `id` (String) Unique identifier to be used with policies.
- `name` (String) Cluster display name.
- `node` (Block List) Node represents an endpoint that is part of a cluster (see [below for nested schema](#nestedblock--cluster--node))

<a id="nestedblock--cluster--node"></a>
### Nested Schema for `cluster.node`

Required:

- `ip_address` (String) IP address or subnet of the node; for example, 10.0.0.1/8 or 1.2.3.4.

Optional:

- `name` (String) Displayed name of the node.



<a id="nestedblock--default_policy"></a>
### Nested Schema for `default_policy`

Optional:

- `action` (String) “ALLOW” or “DENY”
- `consumer_filter_id` (String) ID of a cluster, user inventory filter, or application scope.
- `consumer_filter_name` (String) Named filter. If more than one filter with the same name exists you must specify consumer_filter_id.
- `layer_4_network_policy` (Block List) Parameters for enforcing a layer 4 networking policy based off a flows protocol and ports. (see [below for nested schema](#nestedblock--default_policy--layer_4_network_policy))
- `provider_filter_id` (String) ID of a cluster, user inventory filter, or application scope.
- `provider_filter_name` (String) Named filter. If more than one filter with the same name exists you must specify consumer_filter_id.

<a id="nestedblock--default_policy--layer_4_network_policy"></a>
### Nested Schema for `default_policy.layer_4_network_policy`

Required:

- `port_range` (List of Number) Inclusive range of ports; for example, [80, 80] or [5000, 6000].

Optional:

- `approved` (Boolean) (Optional) Indicates whether the policy is approved. Default is false.
- `protocol` (Number) Protocol integer value (NULL means all protocols).



<a id="nestedblock--filter"></a>
### Nested Schema for `filter`

Required:

- `id` (String) Unique identifier to be used with policies.
- `query` (String) JSON object representation of an inventory filter query.

Optional:

- `name` (String) Displayed name of the cluster.


